{"ast":null,"code":"var _jsxFileName = \"/home/epitech/Desktop/portfolio/portfolio/src/Ressources/Projects/IRC/chat-client/src/IRCComp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Container } from \"react-bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport io from 'socket.io-client';\nimport Messages from './components/Messages';\nimport MessageInput from './components/MessageInput';\nimport Channels from './components/Channels';\nimport Login from './components/Login';\nimport './style/IRCComp.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction IRCComp() {\n  _s();\n\n  const [socket, setSocket] = useState(null);\n  const [channel, setChannel] = useState(null);\n  const [status, setStatus] = useState(null);\n  const [login, setLogin] = useState(\"\");\n\n  function handleChannelChange(newChan) {\n    setChannel(newChan);\n  }\n\n  useEffect(() => {\n    const newSocket = io(`http://${window.location.hostname}:3000`);\n    setSocket(newSocket);\n    newSocket.on('error', datas => {\n      switch (datas.error) {\n        case \"login\":\n          alert('Login \" ' + datas.data + ' \" is taken !');\n          break;\n\n        case \"channel\":\n          break;\n\n        case \"addChan\":\n          alert('A channel named \" ' + datas.data + ' \" already exist !');\n          break;\n\n        case \"delete\":\n          alert(\"You can only delete a channel if you're the one who created it ! \");\n          break;\n\n        case \"join\":\n          alert(\"There is no channel named \" + datas.data);\n          break;\n\n        default:\n          alert('There was an error. type : ' + datas.error);\n          break;\n      }\n    });\n    newSocket.on('setChannel', name => {\n      console.log(\"New channel is : \" + name);\n      setChannel(name);\n    });\n    newSocket.on('set login', login => {\n      setLogin(login);\n    });\n    return () => newSocket.close();\n  }, [setSocket]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"IRCComp\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"IRCComp-header\",\n      children: \"React Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [(() => {\n        switch (status) {\n          case 'NOCHANNEL':\n            return /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"NO CHANNEL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 22\n            }, this);\n\n          default:\n            return /*#__PURE__*/_jsxDEV(\"p\", {\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 22\n            }, this);\n        }\n      })(), socket ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: login ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: channel ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Messages, {\n              login: login,\n              socket: socket,\n              channel: channel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n              login: login,\n              socket: socket,\n              channel: channel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Channels, {\n              channel: channel,\n              onClick: handleChannelChange,\n              socket: socket\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n              login: login,\n              socket: socket,\n              channel: channel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Channels, {\n              channel: channel,\n              onClick: handleChannelChange,\n              socket: socket\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n            login: login,\n            socket: socket,\n            channel: channel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Login, {\n            login: login,\n            socket: socket\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error 404 Server Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(IRCComp, \"gJjPDKFgdkHbkMTrJ/IRCqYLN6Q=\");\n\n_c = IRCComp;\nexport default IRCComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"IRCComp\");","map":{"version":3,"names":["React","useEffect","useState","Container","io","Messages","MessageInput","Channels","Login","IRCComp","socket","setSocket","channel","setChannel","status","setStatus","login","setLogin","handleChannelChange","newChan","newSocket","window","location","hostname","on","datas","error","alert","data","name","console","log","close"],"sources":["/home/epitech/Desktop/portfolio/portfolio/src/Ressources/Projects/IRC/chat-client/src/IRCComp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Container } from \"react-bootstrap\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport io from 'socket.io-client';\nimport Messages from './components/Messages'\nimport MessageInput from './components/MessageInput';\nimport Channels from './components/Channels';\nimport Login from './components/Login';\nimport './style/IRCComp.css';\n\nfunction IRCComp() {\n  const [socket, setSocket] = useState(null);\n  const [channel, setChannel] = useState(null);\n  const [status, setStatus] = useState(null);\n  const [login, setLogin] = useState(\"\")\n\n  function handleChannelChange(newChan) {\n    setChannel(newChan)\n  }\n  useEffect(() => {\n    const newSocket = io(`http://${window.location.hostname}:3000`);\n    setSocket(newSocket);\n\n    newSocket.on('error', (datas) => {\n      switch (datas.error) {\n        case \"login\":\n          alert('Login \" ' + datas.data + ' \" is taken !');\n          break;\n        case \"channel\":\n          break;\n        case \"addChan\":\n          alert('A channel named \" ' + datas.data + ' \" already exist !');\n          break;\n        case \"delete\":\n          alert(\"You can only delete a channel if you're the one who created it ! \")\n          break;\n        case \"join\":\n          alert(\"There is no channel named \" + datas.data)\n          break;\n        default:\n          alert('There was an error. type : ' + datas.error)\n          break;\n      }\n    })\n\n    newSocket.on('setChannel', (name) => {\n      console.log(\"New channel is : \" + name)\n      setChannel(name)\n    })\n\n    newSocket.on('set login', (login) => {\n      setLogin(login)\n    })\n\n    return () => newSocket.close();\n\n  }, [setSocket]);\n\n  return (\n    <div className=\"IRCComp\">\n      <header className=\"IRCComp-header\">\n        React Chat\n      </header>\n      <Container>\n        {(() => {\n          switch (status) {\n            case 'NOCHANNEL':\n              return <p>NO CHANNEL</p>\n            default:\n              return <p>{status}</p>;\n          }\n        })()}\n\n        {socket ? (\n          <div className=\"chat-container\">\n            {login ? (\n              <div>\n                {channel ? (\n                  <div>\n                    <Messages login={login} socket={socket} channel={channel} />\n                    <MessageInput login={login} socket={socket} channel={channel} />\n                    <Channels channel={channel} onClick={handleChannelChange} socket={socket} />\n\n                  </div>\n                ) : (\n                  <div>\n                    <MessageInput login={login} socket={socket} channel={channel} />\n                    <Channels channel={channel} onClick={handleChannelChange} socket={socket} />\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div>\n                <MessageInput login={login} socket={socket} channel={channel} />\n                <hr />\n                <Login login={login} socket={socket} />\n              </div>\n            )}\n          </div>\n        ) : (\n          <div>Error 404 Server Not Found</div>\n        )}\n      </Container>\n    </div>\n  );\n}\n\nexport default IRCComp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}